{% extends "pegasus/examples/examples_base.html" %}
{% load static %}
{% load tags %}
{% block app %}
  <div class="d-flex justify-content-between mb-4">
		<h1 class="pg-title"><i class="fas fa-globe text-success me-2" style="zoom:0.85"></i> PBN Manager  <div class="spinner-border spinner-border-sm htmx-indicator mb-1" role="status" id="indicator"><span class="visually-hidden">Loading...</span></div></h1>
		<div>
			<div class="spinner-border spinner-border-sm fs-1 mb-2 client-spinner" hidden role="status">
			  <span class="visually-hidden">Loading...</span>
			</div>
			<!--
			<div class="btn-group" role="group" aria-label="Basic example">
			  <button type="button" class="btn btn-primary active website-btn">Websites</button>
			  <button type="button" class="btn btn-primary cloudflare-btn">Cloudflare</button>
			</div>
			-->
		</div>
  </div>

<section id="hugo-body">
	<div class="d-flex justify-content-end">
		<div class="btn-group float-right" role="group" aria-label="Basic example" id="btn-groups">
			<a type="button" class="btn btn-secondary" href="#site-details">Site Details</a>
			<a type="button" class="btn btn-secondary" href="#cloudflare-details">Cloudflare</a>
			<a type="button" class="btn btn-secondary" href="#pages-details" data-target="#pages">Pages</a>
			<a type="button" class="btn btn-secondary" href="#comments" data-target="#comments">Comments</a>
		</div>
	</div>
	<div class="details row" data-spy="scoll" data-target="btn-groups" data-offset="0" class="scrollspy-example">
		<div class="col-lg-12 mb-3">
			<div class="pages card" id="pages-details">
				<div class="card-header d-flex justify-content-between">
					<h3>Pages <div class="spinner-border spinner-border-sm htmx-indicator mb-1" role="status" id="pages-indicator"><span class="visually-hidden">Loading...</span></div></h3>
				</div>
				<div class="card-body" id="site-page-details-card-body">
					{% include 'hugo_v2/partials/site-page-details-card.html' %}
				</div>
			</div>
		</div>
		<div class="col-lg-6 mb-3">
			<div class="card" id="cloudflare-details">
				<div class="card-header">
					<h3>Cloudflare <div class="spinner-border spinner-border-sm htmx-indicator mb-1" role="status" id="cloudflare-details-indicator"><span class="visually-hidden">Loading...</span></div></h3>
				</div>
				<div class="card-body" id="cloudflare-details-card-body">
					
					{% include 'hugo_v2/partials/site-cloudflare-details-card.html' %}
				</div>
			</div>
		</div>
		<div class="col-lg-6 mb-3">
			<div class="card" id="site-details">
				<div class=card-header>
					<h3>Site Details <div class="spinner-border spinner-border-sm htmx-indicator mb-1" role="status" id="site-details-indicator"><span class="visually-hidden">Loading...</span></div></h3>
				</div>
				<div class="card-body">
					{% include 'hugo_v2/partials/site-details-card.html' %}
				</div>
			</div>
		</div>
		<div class="col-lg-6 mb-3">
			<div class="card" id="comments">
				<div class=card-header>
					<h3>Comments <div class="spinner-border spinner-border-sm htmx-indicator mb-1" role="status" id="comments-details-indicator"><span class="visually-hidden">Loading...</span></div></h3>
				</div>
				<div class="card-body">
					{% include 'hugo_v2/partials/site-page-comments.html' %}
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock %}

{% block script %}
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>
	// Function to slugify a string
	function slugify(text) {
		return text.toString().toLowerCase()
			.replace(/\s+/g, '-')        // Replace spaces with -
			.replace(/[^\w-]+/g, '')     // Remove all non-word characters
			.replace(/--+/g, '-')        // Replace multiple - with single -
			.replace(/^-+/, '')          // Remove leading -
			.replace(/-+$/, '');         // Remove trailing -
	}

	// Get references to the input fields
	var originalInput = document.getElementById('title');
	var slugInput = document.getElementById('slug');

	// Add a keyup event listener to the original input field
	originalInput.addEventListener('keyup', function () {
		// Get the value from the original input field
		var originalText = originalInput.value;

		// Slugify the text
		var slugifiedText = slugify(originalText);

		// Update the value of the slug input field
		slugInput.value = slugifiedText;
	});
</script>
{% endblock %}