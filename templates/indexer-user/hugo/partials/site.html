{% load tags %}
{% load static %}
{% csrf_token %}
<div class="card">
    <div class="card-header d-flex justify-content-between">
        <h3>{{ data.title }}</h3>
        <div>
            <button class="btn btn-success" hx-get="/hugo-client/websites/" hx-swap="innerHTML" hx-trigger="click" hx-target="#hugo-body" hx-indicator="#indicator">HOME</button>
            <button class="btn btn-success" hx-get="/hugo-client/website/{{data.id}}/" hx-swap="innerHTML" hx-trigger="click" hx-target="#hugo-body" hx-indicator="#indicator">RELOAD</button>
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-lg-6 mb-3" id="cloudflare-details">
                {% include 'indexer-user/hugo/partials/site-cloudflare-details-card.html' %}
            </div>
            <div class="col-lg-6 mb-3" id="site-details">
                {% include 'indexer-user/hugo/partials/site-details-card.html' %}
            </div>
            <div class="col-lg-6 mb-3" id="page-details">
                {% include 'indexer-user/hugo/partials/site-page-details-card.html' %}
            </div>
        </div>
    </div>
</div>
{% block script %}
<script>
    const closeModal = () => {
        var container = document.getElementById("htmxModal")
        var backdrop = document.getElementById("modal-backdrop")
        var modal = document.getElementById("modal")

        modal.classList.remove("show")
        backdrop.classList.remove("show")

        setTimeout(function() {
            container.removeChild(backdrop)
            container.removeChild(modal)
        }, 200)
    }

    $(document).ready(function () {
        $('#page-table').DataTable();
    });
</script>
{% endblock %}